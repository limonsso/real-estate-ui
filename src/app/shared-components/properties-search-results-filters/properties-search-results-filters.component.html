<mat-chip-listbox>
    @if (searchFields?.propertyType) {
        <mat-chip-option selectable="false">
            {{searchFields?.propertyType.name}}        
            <mat-icon color="warn" matChipRemove (click)="remove('propertyType')">cancel</mat-icon>
        </mat-chip-option> 
    }
    @if (searchFields?.propertyStatus && searchFields?.propertyStatus.length) { 
        <mat-chip-option selectable="false">
            @for (type of searchFields?.propertyStatus; track $index; let last = $last;) {
                <span class="mr-1">{{type.name}}
                    @if (!last){
                        <span >,</span>
                    }
                </span>
            }           
            <mat-icon color="warn" matChipRemove (click)="remove('propertyStatus')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.price.from) {
        <mat-chip-option selectable="false">
            Price > {{searchFields?.price.from}}
            <mat-icon color="warn" matChipRemove (click)="remove('price.from')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.price.to) {
        <mat-chip-option selectable="false">
            Price < {{searchFields?.price.to}}
            <mat-icon color="warn" matChipRemove (click)="remove('price.to')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.city) {
        <mat-chip-option selectable="false">
            {{searchFields?.city.name}}
            <mat-icon color="warn" matChipRemove (click)="remove('city')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.zipCode) {
        <mat-chip-option selectable="false">
            {{searchFields?.zipCode}}
            <mat-icon color="warn" matChipRemove (click)="remove('zipCode')">cancel</mat-icon>
        </mat-chip-option> 
    }
    @if (searchFields?.neighborhood && searchFields?.neighborhood.length) {
        <mat-chip-option selectable="false">
            @for (item of searchFields?.neighborhood; track $index; let last = $last;) {
                <span class="mr-1">{{item.name}}
                    @if (!last) {
                        <span>,</span>
                    }
                </span>
            }         
            <mat-icon color="warn" matChipRemove (click)="remove('neighborhood')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.street && searchFields?.street.length) {
        <mat-chip-option selectable="false">
            @for (item of searchFields?.street; track $index; let last = $last;) {
                <span class="mr-1">{{item.name}}
                    @if (!last){
                        <span>,</span>
                    }
                </span>
            }       
            <mat-icon color="warn" matChipRemove (click)="remove('street')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.bedrooms.from) {
        <mat-chip-option selectable="false">
            Bedrooms > {{searchFields?.bedrooms.from}}
            <mat-icon color="warn" matChipRemove (click)="remove('bedrooms.from')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.bedrooms.to) {
        <mat-chip-option selectable="false">
            Bedrooms < {{searchFields?.bedrooms.to}}
            <mat-icon color="warn" matChipRemove (click)="remove('bedrooms.to')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.bathrooms.from) {
        <mat-chip-option selectable="false">
            Bathrooms > {{searchFields?.bathrooms.from}}
            <mat-icon color="warn" matChipRemove (click)="remove('bathrooms.from')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.bathrooms.to) {
        <mat-chip-option selectable="false">
            Bathrooms < {{searchFields?.bathrooms.to}}
            <mat-icon color="warn" matChipRemove (click)="remove('bathrooms.to')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.garages.from) {
        <mat-chip-option selectable="false">
            Garages > {{searchFields?.garages.from}}
            <mat-icon color="warn" matChipRemove (click)="remove('garages.from')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.garages.to) {
        <mat-chip-option selectable="false">
            Garages < {{searchFields?.garages.to}}
            <mat-icon color="warn" matChipRemove (click)="remove('garages.to')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.area.from) {
        <mat-chip-option selectable="false">
            Area > {{searchFields?.area.from}}
            <mat-icon color="warn" matChipRemove (click)="remove('area.from')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.area.to) {
        <mat-chip-option selectable="false">
            Area < {{searchFields?.area.to}}
            <mat-icon color="warn" matChipRemove (click)="remove('area.to')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.yearBuilt.from) {
        <mat-chip-option selectable="false">
            Year Built > {{searchFields?.yearBuilt.from}}
            <mat-icon color="warn" matChipRemove (click)="remove('yearBuilt.from')">cancel</mat-icon>
        </mat-chip-option> 
    }
    @if (searchFields?.yearBuilt.to) {
        <mat-chip-option selectable="false">
            Year Built < {{searchFields?.yearBuilt.to}}
            <mat-icon color="warn" matChipRemove (click)="remove('yearBuilt.to')">cancel</mat-icon>
        </mat-chip-option>
    }
    @if (searchFields?.features) {
        @for (feature of searchFields?.features; track $index; let i = $index) {
            @if (feature.selected) {
                <mat-chip-option selectable="false">
                    {{feature.name}} 
                    <mat-icon color="warn" matChipRemove (click)="remove('features,'+i)">cancel</mat-icon>
                </mat-chip-option>
            } 
        } 
    } 
</mat-chip-listbox>
