<mat-card fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between center" class="w-100 p-2 filter-row mat-elevation-z1 text-muted">
    @if (showSidenavToggle) {
        <button mat-icon-button (click)="sidenavToggle()">
            <mat-icon>more_vert</mat-icon>
        </button>
    } 
    <div>
        <a mat-button [matMenuTriggerFor]="sortMenu" #sortMenuTrigger="matMenuTrigger">
            {{sort}}<mat-icon class="mat-icon-sm caret" iconPositionEnd>arrow_drop_down</mat-icon>
        </a>
        <mat-menu #sortMenu="matMenu" xPosition="before" overlapTrigger="true">
            <span (mouseleave)="sortMenuTrigger.closeMenu()">
                @for (sort of sortings; track $index) {
                    <button mat-menu-item (click)="changeSorting(sort)">{{sort}}</button>
                }               
            </span>
        </mat-menu>
    </div>
    <div fxLayout="row" fxLayoutAlign="start center" fxShow="false" fxShow.gt-xs> 
        <a mat-button [matMenuTriggerFor]="countsMenu" #countsMenuTrigger="matMenuTrigger">
            Show {{count}}<mat-icon class="mat-icon-sm caret" iconPositionEnd>arrow_drop_down</mat-icon>
        </a>
        <mat-menu #countsMenu="matMenu" xPosition="before" overlapTrigger="true">
            <span (mouseleave)="countsMenuTrigger.closeMenu()">
                @for (count of counts; track $index) {
                    <button mat-menu-item (click)="changeCount(count)">{{count}}</button>
                }                
            </span>
        </mat-menu> 
        <button mat-icon-button (click)="changeViewType('list', 100)">
            <mat-icon>view_list</mat-icon>
        </button>
        <button mat-icon-button (click)="changeViewType('grid', 50)" class="p-0" fxLayout="row" fxLayoutAlign="center center">
            <svg class="mat-icon mat-icon-sm" viewBox="0 0 25 25">
                <path d="M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3" />
            </svg>
        </button>
        @if (isHomePage) {
            <button mat-icon-button fxShow="false" fxShow.gt-sm (click)="changeViewType('grid', 33.3)">
                <mat-icon>view_module</mat-icon>
            </button>
            <button fxShow="false" fxShow.gt-md mat-icon-button (click)="changeViewType('grid', 25)">
                <mat-icon>view_comfy</mat-icon>
            </button>
        } @else {
            <button mat-icon-button fxShow="false" fxShow.gt-md (click)="changeViewType('grid', 33.3)">
                <mat-icon>view_module</mat-icon>
            </button>
        } 
    </div>
</mat-card>